{% extends "base.html" %}
{% block title %}Качване на документ • MedJ{% endblock %}

{% block content %}
<div class="row justify-content-center">
  <div class="col-md-6 bg-light p-4 rounded" style="background-color: #fdfee9;">
    <h3 class="mb-3" style="color: #0a4e75;">Качете медицински документ</h3>
    <form method="post" enctype="multipart/form-data">
      {% csrf_token %}
      <div class="mb-3">
        <input type="file" name="document" class="form-control" required>
      </div>
      <button type="submit" class="btn w-100" style="background-color: #43b8cf; color: white;">Качи</button>
    </form>
  </div>
</div>

{% if extracted_text %}
  <div class="row justify-content-center mt-5">
    <div class="col-md-10">
      <h4 style="color:#0a4e75;">Извлечен текст:</h4>
      <div class="p-3 rounded" style="background-color: #f0f0f0; border: 1px solid #ccc; white-space: pre-wrap;">
        {{ extracted_text }}
      </div>
    </div>
  </div>
{% endif %}

{% if extracted_fields %}
  <div class="row justify-content-center mt-5">
    <div class="col-md-8">
      <h4 style="color:#0a4e75;">Разпознати стойности:</h4>
      <table class="table table-bordered mt-3">
        <thead style="background-color: #43b8cf; color: white;">
          <tr>
            <th>Име</th>
            <th>Стойност</th>
          </tr>
        </thead>
        <tbody>
          {% for field, value in extracted_fields.items %}
          <tr>
            <td>{{ field }}</td>
            <td>{{ value }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% endif %}
{% endblock %}
